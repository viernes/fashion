<odoo>
  <data>
        <record id="product_template_form" model="ir.ui.view">
            <field name="name">product.template</field>
            <field name="model">product.template</field>
            <field name="inherit_id" ref="product.product_template_only_form_view"/>
            <field name="arch" type="xml">
                <button name="toggle_active" position="before">
                    <button name="%(product_variant_automatic_action)d"
                            string="Automatic Variant"
                            type="action"
                            class="oe_stat_button"
                            attrs="{'invisible':[('type', 'not in', ['product', 'consu'])]}" icon="fa-flask">

                    </button>

                </button>
            </field>
        </record>
        <act_window id="change_password_wizard_action"
            name="Variant Automatic"
            src_model="product.template"
            res_model="product.variant.automatic"
            view_type="form" view_mode="form"
            key2="client_action_multi" target="new"
            groups="base.group_erp_manager"/>


        <menuitem action="product_variant_automatic_action"
                id="product_variant_automatic_menu"
                parent="stock.menu_product_in_config_stock"
                name="Automatic Variant Generator"
                sequence="2"
                groups="product.group_product_variant"
                />

  </data>
</odoo>